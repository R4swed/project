<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Техподдержка</title>
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body>
    <div id="loginForm">
        <h2>Вход в систему</h2>
        <form>
            <div class="form-group">
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" placeholder="Введите email">
            </div>
            <div class="form-group">
                <label for="login-password">Пароль:</label>
                <input type="password" id="login-password" placeholder="Введите пароль">
            </div>
            <button type="submit">Войти</button>
        </form>
        <p>Нет аккаунта? <a href="#" id="show-register">Зарегистрироваться</a></p>
    </div>

    <div id="registerForm" class="hidden">
        <h2>Регистрация</h2>
        <form>
            <div class="form-group">
                <label for="register-email">Email:</label>
                <input type="email" id="register-email" placeholder="Введите email">
            </div>
            <div class="form-group">
                <label for="register-password">Пароль:</label>
                <input type="password" id="register-password" placeholder="Введите пароль">
            </div>
            <button type="submit">Зарегистрироваться</button>
        </form>
        <p>Уже есть аккаунт? <a href="#" id="show-login">Войти</a></p>
    </div>

    <div id="ticketForm" class="hidden">
        <div class="header">
            <span id="userEmail"></span>
            <button id="logoutBtn">Выйти</button>
        </div>
        <h2>Создание заявки</h2>
        <form>
            <div class="form-group">
                <label for="company">Название компании:</label>
                <input type="text" id="company" placeholder="Введите название компании">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" placeholder="Введите email">
            </div>
            <div class="form-group">
                <label for="product">Продукт:</label>
                <select id="product">
                    <option value="" disabled selected>Выберите продукт</option>
                    <option value="product1">Продукт 1</option>
                    <option value="product2">Продукт 2</option>
                </select>
            </div>
            <div class="form-group">
                <label for="subject">Тема:</label>
                <input type="text" id="subject" placeholder="Введите тему">
            </div>
            <div class="form-group">
                <label for="description">Описание проблемы:</label>
                <textarea id="description" placeholder="Опишите вашу проблему подробно..."></textarea>
            </div>
            <button type="submit">Отправить заявку</button>
        </form>
    </div>

    <div id="ticketList" class="hidden">
        <div class="header">
            <span id="ticketListUserEmail"></span>
            <button id="ticketListLogoutBtn">Выйти</button>
        </div>
        <h2>Ваши заявки</h2>
        <div id="ticketsContainer"></div>
        <button id="newTicketBtn">Создать новую заявку</button>
    </div>

    <div id="chatContainer" class="hidden">
        <div class="header">
            <span id="chatUserEmail"></span>
            <button id="backBtn">Назад</button>
        </div>
        <h2>Чат по заявке <span id="ticketId"></span></h2>
        <button id="takeTicketBtn" class="hidden">Взять в работу</button>
        <div id="chatMessages" class="chat-messages"></div>
        <form id="messageForm">
            <div class="form-group">
                <textarea id="messageInput" placeholder="Введите сообщение..."></textarea>
            </div>
            <button type="submit">Отправить</button>
        </form>
    </div>

    <div id="supportDashboard" class="hidden">
        <div class="header">
            <span id="supportUserEmail"></span>
            <button id="supportLogoutBtn">Выйти</button>
        </div>
        <h2>Панель сотрудника поддержки</h2>
        <div class="filter-buttons">
            <button id="filterNewTickets">Новые</button>
            <button id="filterInProgressTickets">В работе</button>
            <button id="filterCompletedTickets">Завершённые</button>
        </div>
        <div id="supportTicketsContainer">
            <div id="newTicketsContainer" class="hidden">
                <h3>Новые заявки</h3>
                <div id="newTickets"></div>
            </div>
            <div id="inProgressTicketsContainer" class="hidden">
                <h3>В работе</h3>
                <div id="inProgressTickets"></div>
            </div>
            <div id="completedTicketsContainer" class="hidden">
                <h3>Завершённые</h3>
                <div id="completedTickets"></div>
            </div>
        </div>
    </div>

    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/tickets.js"></script>
    <script src="/js/chat.js"></script>
</body>
</html>