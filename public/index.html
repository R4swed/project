<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞</title>
    <link href="/css/styles.css" rel="stylesheet">
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
</head>
<body>
    <div id="loginForm">
        <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
        <form>
            <div class="form-group">
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" placeholder="–í–≤–µ–¥–∏—Ç–µ email">
            </div>
            <div class="form-group">
                <label for="login-password">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="login-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
            </div>
            <button type="submit">–í–æ–π—Ç–∏</button>
        </form>
        <p class="auth-link-text">
            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </p>
    </div>

    <div id="registerForm" class="hidden">
        <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        <form>
            <div class="form-group">
                <label for="register-email">Email:</label>
                <input type="email" id="register-email" placeholder="–í–≤–µ–¥–∏—Ç–µ email">
            </div>
            <div class="form-group">
                <label for="register-password">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="register-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
            </div>
            <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
        <p class="auth-link-text">
            –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login">–í–æ–π—Ç–∏</a>
        </p>
    </div>

    <div id="ticketForm" class="hidden">
        <div class="header">
            <span id="userEmail"></span>
            <button id="logoutBtn">–í—ã–π—Ç–∏</button>
        </div>
        <h2>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</h2>
        <form>
            <div class="form-group">
                <label for="company">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏:</label>
                <input type="text" id="company" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" placeholder="–í–≤–µ–¥–∏—Ç–µ email">
            </div>
            <div class="form-group">
                <label for="product">–ü—Ä–æ–¥—É–∫—Ç:</label>
                <select id="product">
                    <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç</option>
                    <option value="product1">–ü—Ä–æ–¥—É–∫—Ç 1</option>
                    <option value="product2">–ü—Ä–æ–¥—É–∫—Ç 2</option>
                </select>
            </div>
            <div class="form-group">
                <label for="subject">–¢–µ–º–∞:</label>
                <input type="text" id="subject" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É">
            </div>
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:</label>
                <textarea id="description" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ..."></textarea>
            </div>
            <div class="form-group">
                <label for="ticketFileInput">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª:</label>
                <input type="file" id="ticketFileInput" accept="image/*,video/mp4" style="display: none">
                <button type="button" id="ticketAttachFileBtn" class="attach-file-btn">üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª</button>
            </div>
            <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
        </form>
    </div>

    <div id="ticketList" class="hidden">
        <div class="header">
            <span id="ticketListUserEmail"></span>
            <button id="ticketListLogoutBtn">–í—ã–π—Ç–∏</button>
        </div>
        <h2>–í–∞—à–∏ –∑–∞—è–≤–∫–∏</h2>
        <div id="ticketsContainer"></div>
        <button id="newTicketBtn">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É</button>
    </div>

    <div id="chatContainer" class="hidden">
        <div class="header">
            <span id="chatUserEmail"></span>
            <button id="backBtn">–ù–∞–∑–∞–¥</button>
        </div>
        <h2>–ß–∞—Ç –ø–æ –∑–∞—è–≤–∫–µ <span id="ticketId"></span></h2>
        <button id="takeTicketBtn" class="hidden">–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É</button>
        <button id="completeTicketBtn" class="hidden">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–∏–∫–µ—Ç</button>
        <div id="chatMessages" class="chat-messages"></div>
        <form id="messageForm">
            <div class="form-group">
                <textarea id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
                <input type="file" id="fileInput" accept="image/*,video/mp4" style="display: none">
                <button type="button" id="attachFileBtn">üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª</button>
            </div>
            <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
    </div>

    <div id="supportDashboard" class="hidden">
        <div class="header">
            <span id="supportUserEmail"></span>
            <button id="supportLogoutBtn">–í—ã–π—Ç–∏</button>
        </div>
        <h2>–ü–∞–Ω–µ–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</h2>
        <div class="filter-buttons">
            <button id="filterNewTickets">–ù–æ–≤—ã–µ</button>
            <button id="filterInProgressTickets">–í —Ä–∞–±–æ—Ç–µ</button>
            <button id="filterCompletedTickets">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</button>
        </div>
        <div id="supportTicketsContainer">
            <div id="newTicketsContainer" class="hidden">
                <h3>–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</h3>
                <div id="newTickets"></div>
            </div>
            <div id="in_progressTicketsContainer" class="hidden">
                <h3>–í —Ä–∞–±–æ—Ç–µ</h3>
                <div id="inProgressTickets"></div>
            </div>
            <div id="completedTicketsContainer" class="hidden">
                <h3>–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</h3>
                <div id="completedTickets"></div>
            </div>
        </div>
    </div>

    <script type="module" src="/js/utils.js"></script>
    <script type="module" src="/js/api.js"></script>
    <script type="module" src="/js/auth.js"></script>
    <script type="module" src="/js/chat.js"></script>
    <script type="module" src="/js/tickets.js"></script>
    <script type="module" src="/js/support.js"></script>
    <script type="module" src="/js/main.js"></script>
</body>
</html>